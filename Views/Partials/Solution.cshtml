@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage
@using Umbraco.Cms.Core.Models.Blocks
@using Umbraco.Cms.Core.Models.PublishedContent

<div class="k2s-green-container defaultPadding solutions">
    <div class="header-title">
        <h3 class="title-center">Our Solutions</h3>
    </div>

    <div class="type-of-solutions">
        @if (Model.HasValue("solution"))
        {
            var solutions = Model.Value<IEnumerable<BlockListItem>>("solution");
            int count = 1;
            foreach (var solution in solutions)
            {
                var title = solution.Content.Value<string>("title");
                var description = solution.Content.Value<string>("description");
                var iconMedia = solution.Content.Value<IPublishedContent>("iconImage");

                <div class="type-of-solutions-item" data-aos="zoom-in">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <div class="counter">@(count.ToString("D2"))</div>
                            @if (iconMedia != null)
                            {
                                <img src="@iconMedia.Url()" alt="@title icon" class="solution-icon" />
                            }
                            <h5>@title</h5>
                        </div>
                        <div class="flip-card-back">
                            <div class="counter">@(count.ToString("D2"))</div>
                            @if (iconMedia != null)
                            {
                                <img src="@iconMedia.Url()" alt="@title icon" class="solution-icon" />
                            }
                            <h5>@title</h5>
                            <p>@description</p>
                        </div>
                    </div>
                </div>

                count++;
            }
        }
    </div>
</div>

<style>
.type-of-solutions {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: space-between;
}

/* Solution card */
.type-of-solutions-item {
    height: 460px;
    perspective: 1000px;
    text-align: left;
    box-sizing: border-box;
}

/* Flip card inner mechanics */
.flip-card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    transition: transform 0.6s;
    transform-style: preserve-3d;
}

.flip-card-front,
.flip-card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
}

.flip-card-back {
    transform: rotateY(180deg);
}

.type-of-solutions-item:hover .flip-card-inner {
    transform: rotateY(180deg);
}

/* AOS animations */
[data-aos^=zoom][data-aos^=zoom].aos-animate {
    opacity: 1;
    transform: translateZ(0) scale(1);
}

[data-aos^=zoom][data-aos^=zoom] {
    opacity: 0;
    transition-property: opacity, transform;
}

[data-aos=zoom-in] {
    transform: scale(.6);
}
</style>
